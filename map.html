<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>수질측정망 지도</title>
<link rel="icon" href="./assets/gongdan-mark.png" />

<!-- Leaflet & MarkerCluster -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

<style>
  :root{ --HDR-H: 64px; }
  *{ box-sizing:border-box }
  html, body { height:100%; margin:0; font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Pretendard,Arial; }
  body { background: #f5f7fb; color:#0b2239; }

  /* 공통 헤더 (로고 + 제목 한 줄) */
  .appbar{
    height:var(--HDR-H); display:flex; align-items:center; gap:14px;
    padding:0 16px; background:#ffffff; border-bottom:1px solid rgba(0,0,0,.06);
    position:sticky; top:0; z-index:1000;
  }
  .logo-img{ width:44px; height:44px; object-fit:contain; filter:drop-shadow(0 2px 4px rgba(0,0,0,.12)); }
  .title-text{ min-width:0; }
  .title-text h1{
    margin:0; font-weight:800; letter-spacing:-0.02em; line-height:1.1;
    font-size: clamp(18px, 4.2vw, 26px);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }

  /* 본문 레이아웃 */
  .map-wrap{ position:relative; height:calc(100dvh - var(--HDR-H)); min-height:400px; }
  #map{ width:100%; height:100%; }

  /* UI 요소들 */
  .filter-panel{
    position:absolute; left:10px; top:10px; z-index:1000;
    background:rgba(255,255,255,0.95); padding:6px 8px; border-radius:8px;
    box-shadow:0 2px 4px rgba(0,0,0,0.25);
    display:inline-flex; flex-direction:column; gap:3px;
    font-size:14px; width:fit-content;
  }
  label{ display:flex; align-items:center; gap:4px; white-space:nowrap; }

  .floating-btn{
    position:absolute; bottom:20px; right:20px; z-index:1200;
    width:52px; height:52px; border-radius:50%; background:#0078ff; color:#fff;
    font-size:26px; font-weight:bold; border:none;
    box-shadow:0 3px 8px rgba(0,0,0,0.3);
    display:flex; align-items:center; justify-content:center;
    cursor:pointer; transition:.2s ease;
  }
  .floating-btn:hover{ background:#005fcc; transform:scale(1.05); }

  .toast{
    position:fixed; bottom:90px; right:20px; z-index:2000;
    background:rgba(0,0,0,0.8); color:#fff; padding:10px 14px; border-radius:6px; font-size:14px;
    opacity:0; pointer-events:none; transition:opacity .3s ease;
  }
  .toast.show{ opacity:1; }

  .leaflet-tooltip.station-tooltip{
    font-weight:bold; font-size:14px; color:#222; text-shadow:1px 1px 2px #fff;
  }

  @media (max-width:420px){
    .logo-img{ width:40px; height:40px; }
    .title-text h1{ font-s
